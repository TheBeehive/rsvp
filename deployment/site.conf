# You should look at the following URL's in order to grasp a solid understanding
# of Nginx configuration files in order to fully unleash the power of Nginx.
# https://www.nginx.com/resources/wiki/start/
# https://www.nginx.com/resources/wiki/start/topics/tutorials/config_pitfalls/
# https://wiki.debian.org/Nginx/DirectoryStructure

# Default server configuration
server {
  listen      80 default_server;
  listen [::]:80 default_server;

  # listen      443 default_server ssl;
  # listen [::]:443 default_server ssl;

  # ssl_certificate /etc/ssl/certs/ssl-cert-snakeoil.pem;
  # ssl_certificate_key /etc/ssl/private/ssl-cert-snakeoil.key;

  root /home/rsvp/rsvp;
  index index.html;
  server_name rsvp.hackersgethitched.com;

  location / {
    try_files /static$uri @gunicorn =404;
  }

  location @gunicorn {
    include proxy_params;
    proxy_pass http://unix:/home/rsvp/rsvp/gunicorn.sock;
  }
}
